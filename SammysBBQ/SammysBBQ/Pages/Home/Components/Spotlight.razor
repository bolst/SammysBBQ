@using SammysBBQ.Data

<Div Style="display: flex; align-items: center;" Position="Position.Relative.Top.Is50.Translate.MiddleY">
    <Column ColumnSize="ColumnSize.Is2"></Column>

    <Column ColumnSize="ColumnSize.Is6" TextAlignment="TextAlignment.Center">

        <DisplayHeading Size="DisplayHeadingSize.Is3" TextColor="TextColor.White" TextWeight="TextWeight.Bold"
            Padding="Padding.Is4.FromStart">@SpotlightText
        </DisplayHeading>

    </Column>

    <Column ColumnSize="ColumnSize.Is3" TextAlignment="TextAlignment.Start">
        <Figure Size="FigureSize.Is256x256">
            <FigureImage Source="@ImageFactory.Instance.Logo(false)" />
        </Figure>
    </Column>

    <Column ColumnSize="ColumnSize.Is1"></Column>
</Div>

@code {

    private string SpotlightText = "Craving something yummy?\nYou've come to the right place";

    protected override async Task OnInitializedAsync()
    {
        JsonDocument? data;

        {
            data = await ApiDataFactory.Instance.Get(new List<string>() { "root", "home", "spotlight", "text" });
            if (data != null)
            {
                SpotlightText = data.RootElement.GetProperty("data").ToString();
            }
        }

    }
}